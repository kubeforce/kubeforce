---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: kubeforceagentgroups.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    kind: KubeforceAgentGroup
    listKind: KubeforceAgentGroupList
    plural: kubeforceagentgroups
    shortNames:
    - kfag
    singular: kubeforceagentgroup
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Replicas
      jsonPath: .status.replicas
      name: Replicas
      type: integer
    - description: KubeforceAgentGroup ready state
      jsonPath: .status.ready
      name: Ready
      type: boolean
    - description: Time duration since creation of KubeforceAgentGroup
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: KubeforceAgentGroup is the Schema for the kubeforceagentgroups
          API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: KubeforceAgentGroupSpec defines the desired state of KubeforceAgentGroup
            properties:
              addresses:
                additionalProperties:
                  description: Addresses is addresses assigned to the node.
                  properties:
                    externalDNS:
                      type: string
                    externalIP:
                      type: string
                    hostname:
                      type: string
                    internalDNS:
                      type: string
                    internalIP:
                      type: string
                  type: object
                description: Addresses is addresses assigned to the agents created
                  from this group.
                type: object
              template:
                description: Template defines the agents that will be created from
                  this kubeforce agent template.
                properties:
                  metadata:
                    description: Standard object's metadata.
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: 'Annotations is an unstructured key value map
                          stored with a resource that may be set by external tools
                          to store and retrieve arbitrary metadata. They are not queryable
                          and should be preserved when modifying objects. More info:
                          http://kubernetes.io/docs/user-guide/annotations'
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: 'Map of string keys and values that can be used
                          to organize and categorize (scope and select) objects. May
                          match selectors of replication controllers and services.
                          More info: http://kubernetes.io/docs/user-guide/labels'
                        type: object
                    type: object
                  spec:
                    description: Specification of the desired behavior of the KubeforceAgent.
                    properties:
                      addresses:
                        description: Addresses is a list of addresses assigned to
                          the host where agent is installed.
                        properties:
                          externalDNS:
                            type: string
                          externalIP:
                            type: string
                          hostname:
                            type: string
                          internalDNS:
                            type: string
                          internalIP:
                            type: string
                        type: object
                      config:
                        description: Config is an agent configuration
                        properties:
                          authentication:
                            description: Authentication specifies how requests to
                              the Agent's server are authenticated
                            properties:
                              x509:
                                description: X509 contains settings related to x509
                                  client certificate authentication
                                properties:
                                  caSecret:
                                    type: string
                                  clientSecret:
                                    type: string
                                required:
                                - caSecret
                                - clientSecret
                                type: object
                            type: object
                          certIssuerRef:
                            description: CertIssuerRef is a reference to the issuer
                              for agent certificates. If the `kind` field is not set,
                              or set to `Issuer`, an Issuer resource with the given
                              name in the same namespace as the KubeforceCluster will
                              be used. If the `kind` field is set to `ClusterIssuer`,
                              a ClusterIssuer with the provided name will be used.
                              The `name` field in this stanza is required at all times.
                            properties:
                              apiGroup:
                                description: APIGroup is the group for the resource
                                  being referenced. If APIGroup is not specified,
                                  the specified Kind must be in the core API group.
                                  For any other third-party types, APIGroup is required.
                                type: string
                              kind:
                                description: Kind is the type of resource being referenced
                                type: string
                              name:
                                description: Name is the name of resource being referenced
                                type: string
                            required:
                            - kind
                            - name
                            type: object
                        required:
                        - certIssuerRef
                        type: object
                      installed:
                        description: Installed is true when the agent has been installed
                          on the host
                        type: boolean
                      source:
                        description: Source is a source of the agent binary.
                        properties:
                          path:
                            description: Path to the directory containing the agent
                              file. The default is empty, which translates to the
                              root path of the RepositoryReference.
                            type: string
                          repoRef:
                            default:
                              kind: HTTPRepository
                              name: github
                              namespace: kubeforce-system
                            description: RepoRef specifies a repository of the agent.
                            properties:
                              apiVersion:
                                description: API version of the referent.
                                type: string
                              kind:
                                description: Kind of the referent.
                                enum:
                                - HTTPRepository
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                              namespace:
                                description: Namespace of the referent, defaults to
                                  the namespace of the Kubernetes resource object
                                  that contains the reference.
                                type: string
                            required:
                            - kind
                            - name
                            type: object
                          version:
                            description: Version specifies a version of agent. The
                              controller version is used by default.
                            type: string
                        type: object
                      ssh:
                        description: SSH
                        properties:
                          port:
                            description: 'Port is the port for ssh connection. Default:
                              22'
                            type: integer
                          secretName:
                            type: string
                          username:
                            type: string
                        type: object
                      system:
                        default:
                          arch: amd64
                          os: linux
                        description: System
                        properties:
                          arch:
                            default: amd64
                            description: Arch is GOARCH for current node.
                            type: string
                          os:
                            default: linux
                            description: Arch is GOOS for current node.
                            type: string
                        type: object
                    type: object
                type: object
            type: object
          status:
            description: KubeforceAgentGroupStatus defines the observed state of KubeforceAgentGroup
            properties:
              conditions:
                description: Conditions defines current service state of the KubeforceAgent.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              observedGeneration:
                description: ObservedGeneration is the latest generation observed
                  by the controller.
                format: int64
                type: integer
              ready:
                description: Ready denotes that the agent is ready
                type: boolean
              readyReplicas:
                description: ReadyReplicas is the number of agents in the ready state.
                format: int32
                type: integer
              replicas:
                description: Replicas is the most recently observed number of replicas.
                format: int32
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
